diff --git a/CMakeLists.txt b/CMakeLists.txt
index 0c5e5b4..f0f147b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -47,7 +47,10 @@ add_subdirectory(src)
 # Target for documentation (make doc)
 find_program(Doxygen NAMES doxygen)
 if (EXISTS ${Doxygen})
-    add_custom_target(doc COMMAND cd doc && ${Doxygen} doxygen-impldoc.conf COMMAND cd doc && ${Doxygen} doxygen-userdoc.conf COMMAND cd doc && ${Doxygen} doxygen-mdeclarativecache.conf)
+	add_custom_target(doc
+		COMMAND cd ${CMAKE_CURRENT_SOURCE_DIR}/doc && ${Doxygen} doxygen-impldoc.conf
+		COMMAND cd ${CMAKE_CURRENT_SOURCE_DIR}/doc && ${Doxygen} doxygen-userdoc.conf
+		COMMAND cd ${CMAKE_CURRENT_SOURCE_DIR}/doc && ${Doxygen} doxygen-mdeclarativecache.conf)
 else (EXISTS ${Doxygen})
     message(STATUS "Doxygen not found: you're not able to build documentation.")
 endif (EXISTS ${Doxygen})
diff --git a/src/invoker/CMakeLists.txt b/src/invoker/CMakeLists.txt
index 6531ca0..3a35a6b 100644
--- a/src/invoker/CMakeLists.txt
+++ b/src/invoker/CMakeLists.txt
@@ -19,6 +19,6 @@ add_executable(invoker ${SRC})
 target_link_libraries(invoker ${DBUS_LDFLAGS})
 
 # Add install rule
-install(PROGRAMS invoker DESTINATION /usr/bin/)
+install(TARGETS invoker DESTINATION /usr/bin/)
 
 
diff --git a/src/launcherlib/CMakeLists.txt b/src/launcherlib/CMakeLists.txt
index 3d986ca..89eacd1 100644
--- a/src/launcherlib/CMakeLists.txt
+++ b/src/launcherlib/CMakeLists.txt
@@ -1,6 +1,11 @@
 set(COMMON ${CMAKE_HOME_DIRECTORY}/src/common)
 
-include_directories(${CMAKE_CURRENT_SOURCE_DIR} ${COMMON})
+# Find systemd
+find_package(PkgConfig REQUIRED)
+pkg_check_modules(SYSTEMD "libsystemd" REQUIRED)
+
+# Set include dirs
+include_directories(${CMAKE_CURRENT_SOURCE_DIR} ${SYSTEMD_INCLUDE_DIRS} ${COMMON})
 
 # Hide all symbols except the ones explicitly exported in the code (like main())
 set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fvisibility=hidden")
@@ -12,14 +17,13 @@ set(SRC appdata.cpp booster.cpp connection.cpp daemon.cpp logger.cpp
 set(HEADERS appdata.h booster.h connection.h daemon.h logger.h launcherlib.h
     singleinstance.h socketmanager.h ${COMMON}/protocol.h)
 
-# Set libraries to be linked. Shared libraries to be preloaded are not linked in anymore,
-# but dlopen():ed and listed in src/launcher/preload.h instead.
-link_libraries(${LIBDL} "-L/lib -lsystemd")
-
 # Set executable
 add_library(applauncherd MODULE ${SRC} ${MOC_SRC})
 set_target_properties(applauncherd PROPERTIES VERSION 0.1 SOVERSION 0)
 
+target_link_libraries(applauncherd ${SYSTEMD_LIBRARIES})
+
+
 # Add install rule
 install(TARGETS applauncherd DESTINATION /usr/lib)
 install(FILES ${HEADERS} DESTINATION /usr/include/applauncherd
diff --git a/src/single-instance/CMakeLists.txt b/src/single-instance/CMakeLists.txt
index cc04ba2..acc1439 100644
--- a/src/single-instance/CMakeLists.txt
+++ b/src/single-instance/CMakeLists.txt
@@ -26,4 +26,4 @@ link_libraries(${DBUS_LDFLAGS})
 add_executable(single-instance ${SRC})
 
 # Add install rule
-install(PROGRAMS single-instance DESTINATION /usr/bin/)
+install(TARGETS single-instance DESTINATION /usr/bin/)
